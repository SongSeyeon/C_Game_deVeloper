<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
 
    <title>C Game deVeloper</title>
    <script src="assets/js/phaser.min.js"></script>
    <script src="assets/js/Start.js"></script>
    <script src="assets/js/conversation.js"></script>
    <script src="assets/js/DialogText.js" type="module"></script>
    <script src="assets/js/Player.js" type="module"></script>
    <script src="assets/js/TestScene.js" type="module"></script>
    <script src="assets/js/Minicoding.js" type="module"></script>
    <script src="assets/js/main.js" type="module"></script>
</head>
<body>
    <!--로그인 정보 읽어오기 테스트-->
    <textarea id="test" name="test" style="resize:none; width:400px; height:100px;" readonly="readonly"></textarea>
    <br>
    <script>
        window.onload=function(){
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/get_session', true);
            xhr.setRequestHeader('Content-type', 'application/json');
            xhr.send();

            xhr.addEventListener('load', function() {
                var result = JSON.parse(xhr.responseText);
                console.log("세션 정보를 정상적으로 받았습니다.");
                if(result.is_logined){
                    document.getElementById('test').value ='nickname : '+result.nick+'\nid : '+result.id;
                }else{
                    document.getElementById('test').value ='로그인이 정상적으로 이루어지지 않았습니다.';
                }                
            });
        }
    </script>
</body>
</html>
